---
title: "Assignment 04"
author: "Figali Taho" 
date: "09 Oct 2018"
output:
  github_document:
    toc: yes
---

## Tidy data and joins!

For this assignment, I will work with the Gapminder dataset again. 

```{r setup, include=FALSE}
suppressPackageStartupMessages(library(tidyverse))
knitr::opts_chunk$set(fig.width=4, fig.height=3)
library(gapminder)
library(tidyr)
library(dplyr)
library(ggplot2)
```

### Data Reshaping Prompt
In this prompt I have chosen Activity #2:

[x] Make a tibble with one row per year and columns for life expectancy for two or more countries. Use knitr::kable() to make this table look pretty in your rendered homework. 
- I will explore the life expectancy of Canada and Switzerland. 
```{r}
filteredCanSwiss <- gapminder %>%
  filter(country %in% c("Canada", "Switzerland")) %>%
  select(year, country, lifeExp)
lifeExpPerYear_CanadaVsSwiss <- spread(filteredCanSwiss, country, lifeExp)
```

We have now brought the data to the required state, where there is one line per year, and Canada's and Switzerland's life expectancy as columns:
```{r}
knitr::kable(lifeExpPerYear_CanadaVsSwiss)
```

[x] Take advantage of this new data shape to scatterplot life expectancy for one country against that of another.
To plot the data for each country separately, we would do something on these terms, for example, for Canada:
```{r}
ggplot(lifeExpPerYear_CanadaVsSwiss, aes(x=year, y=Canada)) +
  labs(title = "Life expectancy of Canada over time.") +
  labs(x = "Year") + 
  labs(y = "Canada's life expectancy") +
  geom_point()
```

The advantage of this approach lies in the fact that now we have the data in a readily and easily servable state for comparison with one another, and we can "combine" the two plots together to better see the underlying trends. 
```{r}
ggplot() +
  geom_point(data=lifeExpPerYear_CanadaVsSwiss, aes(year, Canada)) + 
  geom_smooth(data=lifeExpPerYear_CanadaVsSwiss, aes(year, Canada), 
              colour="darkblue", size=0.5) + 
  geom_point(data=lifeExpPerYear_CanadaVsSwiss, aes(year, Switzerland)) + 
  geom_smooth(data=lifeExpPerYear_CanadaVsSwiss, aes(year, Switzerland), 
              colour="pink", size=0.5)
```
In this case, it's very easily and clearly visible that Switzerland has a higher life expectancy than Canada over the years.

### Join Prompt (join, merge, look up)
In this prompt I have chosen Activity #1:

[x] Create a second data frame, complementary to Gapminder. Join this with (part of) Gapminder using a dplyr join function and make some observations about the process and result. Explore the different types of joins. Examples of a second data frame you could build: 
[x] One row per country, a country variable and one or more variables with extra info, such as language spoken, NATO membership, national animal, or capitol city.
[x] One row per continent, a continent variable and one or more variables with extra info, such as northern versus southern hemisphere.



### Resources



Links I found useful:
https://jules32.github.io/2016-07-12-Oxford/dplyr_tidyr/#3_tidyr_overview
